<!DOCTYPE module SYSTEM "module.dtd">

<module name="ekf2" dir="ins">
  <doc>
    <description>
      simple INS and AHRS using EKF2.
    </description>
  </doc>
  <header>
    <file name="ins_int.h" dir="subsystems/ins"/>
  </header>
  <makefile target="ap|nps">
    <!--define name="INS_TYPE_H" value="subsystems/ins/ins_int.h" type="string"/-->
    <file name="ins.c" dir="subsystems"/>
    <file name="ins_ekf2.cpp" dir="subsystems/ins"/>


    <include name="$(PAPARAZZI_SRC)/sw/ext/ecl/"/>
    <define name="POSIX_SHARED" value="true"/>

    <file name="estimator_interface.cpp" dir="ecl/EKF"/>
    <file name="ekf.cpp" dir="ecl/EKF"/>
    <file name="ekf_helper.cpp" dir="ecl/EKF"/>
    <file name="covariance.cpp" dir="ecl/EKF"/>
    <file name="vel_pos_fusion.cpp" dir="ecl/EKF"/>
    <file name="mag_fusion.cpp" dir="ecl/EKF"/>
    <file name="gps_checks.cpp" dir="ecl/EKF"/>
    <file name="airspeed_fusion.cpp" dir="ecl/EKF"/>
    <file name="optflow_fusion.cpp" dir="ecl/EKF"/>
    <file name="control.cpp" dir="ecl/EKF"/>
    <file name="terrain_estimator.cpp" dir="ecl/EKF"/>
    <file name="geo.cpp" dir="ecl/EKF"/>
    <file name="mathlib.cpp" dir="ecl/EKF"/>
    <raw>
      ap.CXXFLAGS += -Wno-deprecated-declarations -Wno-enum-compare -Wno-missing-field-initializers -Wno-unused-parameter
    </raw>
  </makefile>
</module>
